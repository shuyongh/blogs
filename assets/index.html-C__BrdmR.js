import{_ as a,c as e,a as s,o as l}from"./app-C7T5jqfQ.js";const r="/blogs/assets/image-20230201145217081-CyOUoGiO.png",d="/blogs/assets/image-20230201151350516-DErRWENb.png",n="/blogs/assets/image-20230201155744344-XsOqZ2ix.png",t="/blogs/assets/image-20230201160001589-Y1JjE4DU.png",o={};function h(p,i){return l(),e("div",null,i[0]||(i[0]=[s('<h2 id="root用户" tabindex="-1"><a class="header-anchor" href="#root用户"><span>root用户</span></a></h2><p>在Linux系统中，拥有最大权限 的账户名为root（超级管理员），而普通用户在许多地方的权限都是受限的</p><h3 id="登陆" tabindex="-1"><a class="header-anchor" href="#登陆"><span>登陆</span></a></h3><p>可以通过su（Switch User）命令</p><p>语法：su [-] [用户名]</p><ul><li>-符号是可选的，表示 是否在切换用户后加载环境变量</li><li>参数：用户名，表示要切换的用户，用户名 也可以省略，省略表示切换到root</li><li>切换用户后，可以通过exit命令退回 上一个用户，也可以使用快捷键ctrl+d</li><li>使用root用户切换到其它用户，无需 密码，可以直接切换</li></ul><h3 id="激活root用户" tabindex="-1"><a class="header-anchor" href="#激活root用户"><span>激活root用户</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>sudo passwd root</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="锁定root用户" tabindex="-1"><a class="header-anchor" href="#锁定root用户"><span>锁定root用户</span></a></h3><p>重新锁定root用户需要先转换到普通用户下</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>sudo passwd -l root</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="sudo命令" tabindex="-1"><a class="header-anchor" href="#sudo命令"><span>sudo命令</span></a></h3><p>可以使用sudo命令，为普通 的命令授权，临时以root身份执行</p><p>语法：sudo 其它命令</p><ul><li>在其它命令之前，带上sudo，即可为这一条命令临时赋予 root权限</li><li>但是并不是所有的用户，都有权利 使用sudo，我们需要为普通 用户配置sudo认证</li></ul><h3 id="sudo认证" tabindex="-1"><a class="header-anchor" href="#sudo认证"><span>sudo认证</span></a></h3><ul><li>在root用户中，执行visudo命令，会自动通过vi编辑器打开：/etc/sudoers</li><li>在文件的最后添加<img src="'+r+'" alt="image-20230201145217081"><ul><li>其中最后的NOPASSWD：ALL表示 使用sudo命令，无需 输入密码</li></ul></li><li>最后通过wq保存</li></ul><h3 id="重置root" tabindex="-1"><a class="header-anchor" href="#重置root"><span>重置root</span></a></h3><ul><li>重新设置rootr</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>sudo passwd root</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="用户和用户组" tabindex="-1"><a class="header-anchor" href="#用户和用户组"><span>用户和用户组</span></a></h2><p><img src="'+d+'" alt="image-20230201151350516"></p><p>1、Linux系统 中可以</p><ul><li>配置多个用户</li><li>配置多个用户组</li><li>用户可以加入多个用户组中</li></ul><p>2、Linux中关于权限 的管控 级别有2 个级别</p><ul><li>针对 用户的权限控制</li><li>针对 用户组的权限控制</li></ul><h3 id="用户组管理" tabindex="-1"><a class="header-anchor" href="#用户组管理"><span>用户组管理</span></a></h3><p>用户要访问属于附加组的文件时，必须首先使用newgrp命令使自己成为所要访问的组中的成员，用户组的所有信息都存放在**/etc/group文件中**</p><h4 id="创建用户组" tabindex="-1"><a class="header-anchor" href="#创建用户组"><span>创建用户组</span></a></h4><ul><li>语法`groupadd [-g gid [-o]] [-r]] [-f] group</li><li>-r:此参数是用来建立系统账号，这会自动选定一个小于499的gid，</li><li>-g （GID）。除非使用-0参数，否则该值必须是唯一的，不可相同，数值不可为负，预设最小不得小于500而逐次增加，0~499传统上是保留给系统账号使用的</li><li>-f：这是force标志</li><li>groupadd 用户组名</li></ul><h4 id="删除用户组" tabindex="-1"><a class="header-anchor" href="#删除用户组"><span>删除用户组</span></a></h4><ul><li>groupdel 用户组名</li></ul><h4 id="查看用户所属组" tabindex="-1"><a class="header-anchor" href="#查看用户所属组"><span>查看用户所属组</span></a></h4><ul><li>id [用户名 ] <ul><li>用户名，被查看的用户，如果 不提供则查看自身</li></ul></li></ul><h4 id="修改用户所属组" tabindex="-1"><a class="header-anchor" href="#修改用户所属组"><span>修改用户所属组</span></a></h4><ul><li>usermod -aG 用户组 用户名，将指定用户加入指定用户组</li></ul><h3 id="用户管理" tabindex="-1"><a class="header-anchor" href="#用户管理"><span>用户管理</span></a></h3><ul><li><p>在**/etc/passwd**文件中每个用户的信息占据一行，每一行都包括了7个字段，中间以冒号分割</p></li><li><p>每个用户都有一个对应的记录保存在/etc/passwd和/etc/shadow文件中</p></li><li><p>管理员的用户位于1-999范围，普通用户&gt;=1000</p></li></ul><h4 id="创建用户" tabindex="-1"><a class="header-anchor" href="#创建用户"><span>创建用户</span></a></h4><ul><li>useradd [-g -d] 用户名 <ul><li>-g指定用户的组，不指定-g，会创建同名组并自动加入，指定-g需要组已经存在，如已存在同名组，必须使用-g</li><li>-d指定用户HOME路径，不指定，HOME目录默认在：/home/用户名</li></ul></li></ul><h4 id="删除用户" tabindex="-1"><a class="header-anchor" href="#删除用户"><span>删除用户</span></a></h4><ul><li>userdel [-r] 用户名 <ul><li>-r，删除用户的HOME和目录，不使用-r、删除用户时，HOME目录保留</li></ul></li></ul><h3 id="getent命令" tabindex="-1"><a class="header-anchor" href="#getent命令"><span>getent命令</span></a></h3><p>1、使用getent命令，可以查看当前系统 中有哪 些用户</p><p><strong>语法：getent passwd</strong></p><p>共有7份信息，分别 是</p><p>用户名 ：密码（X）：用户ID：组ID：描述信息（无用）：HOME目录：执行终端（默认bash）</p><p>2、使用getent命令，同样可以查看当前 系统主中有哪些组</p><p>语法：getent group</p><h2 id="权限" tabindex="-1"><a class="header-anchor" href="#权限"><span>权限</span></a></h2><p><img src="'+n+'" alt="image-20230201155744344"></p><ul><li>序号1，表示文件、文件夹的权限 控制 信息 <ul><li><img src="'+t+'" alt="image-20230201160001589"></li><li>r：（4）表示 读权限</li><li>w：（2）表示 写权限</li><li>x：（1）表示 执行权限</li></ul></li><li>序号2，表示文件，文件夹所属用户</li><li>序号3，表示 文件、文件夹所属用户组</li></ul><h3 id="chmod命令" tabindex="-1"><a class="header-anchor" href="#chmod命令"><span>chmod命令</span></a></h3><p>可以使用chmod命令，修改文件的、文件夹的权限 信息</p><p>只有文件、文件夹的所属用户或root用户可以修改</p><p>语法：chmod [-R] 权限 文件或文件夹</p><ul><li>选项：-R，对文件夹内的全部内容应用同样的操作</li><li>如： <ul><li>chmod u=rwx,g=rx,o=x hello.txt</li><li>也可写为 chmod 751 hello.txt <ul><li>其中：u表示user所属用户权限 ，h表示 group组权限 ，o表示other其它用户权限</li></ul></li></ul></li></ul><h3 id="chown命令" tabindex="-1"><a class="header-anchor" href="#chown命令"><span>chown命令</span></a></h3><p>使用chown命令，可以修改文件，文件夹的所属用户和用户组</p><p>普通用户无法修改所属为其它用户或组，所以此命令只适用于root用户执行</p><p>语法：chown +[-R] [用户] [:] [用户组] 文件或文件夹</p><ul><li>-R，对文件夹内全部内容应用相同规则</li><li>用户，修改所属用户</li><li>用户组，修改所属用户组</li><li>用于分隔用户和用户组</li></ul>',62)]))}const u=a(o,[["render",h]]),g=JSON.parse('{"path":"/os/ii9c6eiq/","title":"用户和权限","lang":"zh-CN","frontmatter":{"title":"用户和权限","createTime":"2025/03/23 18:17:36","permalink":"/os/ii9c6eiq/"},"headers":[],"readingTime":{"minutes":4.25,"words":1276},"git":{"updatedTime":1743091220000,"contributors":[{"name":"舒永好","username":"舒永好","email":"shuyonghao@guoshenghuaxing.com","commits":1,"avatar":"https://gravatar.com/avatar/4b1c3f37ea707968be73c631a79de33afd360724ce87bf8f9dcacd67d14df92c?d=retro"}]},"filePathRelative":"notes/os/linux/pri_and_user.md"}');export{u as comp,g as data};
