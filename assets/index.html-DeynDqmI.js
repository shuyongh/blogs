import{_ as i,c as a,a as n,o as e}from"./app-C7T5jqfQ.js";const l={};function h(t,s){return e(),a("div",null,s[0]||(s[0]=[n(`<h2 id="来自-runtime-system-的错误信息" tabindex="-1"><a class="header-anchor" href="#来自-runtime-system-的错误信息"><span>来自 Runtime System 的错误信息</span></a></h2><p>默认情况下，来自运行时系统的错误信息（即，有关由于未捕获的错误异常而终止的进程的信息）将写入终端 （TTY）：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">=ERROR</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> REPORT====</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 9-Dec-2003::13:25:02</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ===</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Error</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> process</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">0.27.</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">0&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> with</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> exit</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> value:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {{badmatch,[1,2,3]},[{m,f,1},{shell,eval_loop,2}]}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>错误信息由 Logger 处理，Logger 是 Kernel 应用程序的一部分。</p><p>运行时系统使用的退出原因（例如 <code>badarg</code>）在 <a href="https://www.erlang.org/doc/system/errors#exit_reasons" target="_blank" rel="noopener noreferrer">错误和错误处理</a>。</p><p>有关 Logger 及其用户界面的信息，请参阅 <a href="https://www.erlang.org/doc/apps/kernel/logger" target="_blank" rel="noopener noreferrer"><code>Logger</code></a> 手册页和 Kernel User&#39;s Guide 中的 <a href="https://www.erlang.org/doc/apps/kernel/logger_chapter" target="_blank" rel="noopener noreferrer">Logging</a> 部分。可以配置系统，以便将日志事件写入文件和/或 TTY。此外，用户定义的应用程序可以使用 Logger 发送日志事件并设置日志事件的格式。</p><h2 id="记录来自-otp-行为的事件" tabindex="-1"><a class="header-anchor" href="#记录来自-otp-行为的事件"><span>记录来自 OTP 行为的事件</span></a></h2><p>标准行为 （<code>supervisor</code>、<code>gen_server</code> 等）将进度和错误信息发送到 Logger。默认情况下，不记录进度报告，但可以通过将主日志级别设置为 <code>info</code> 来启用，例如使用 Kernel 配置参数 <code>logger_level</code>。默认情况下，Supervisor 报告、崩溃报告以及其他错误和信息报告通过日志处理程序记录，该处理程序是在 Kernel 应用程序启动时设置的。</p><p>在 Erlang/OTP 21.0 之前，主管、崩溃和进度报告只是 在 SASL 应用程序运行时记录。这种行为可以，对于向后 兼容性，通过设置 Kernel 配置参数 <a href="https://www.erlang.org/doc/apps/kernel/kernel_app#logger_sasl_compatible" target="_blank" rel="noopener noreferrer"><code>logger_sasl_compatible</code></a> <code>true</code> 的。有关更多信息，请参阅 <a href="https://www.erlang.org/doc/apps/sasl/error_logging" target="_blank" rel="noopener noreferrer">SASL 用户指南中的 SASL 错误日志记录</a>。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">%</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> erl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -kernel</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> logger_level</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> info</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Erlang/OTP</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 21</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [erts-10.0] </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">source-13c50db</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">64-bit</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">smp:4:4</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">ds:4:4:10</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">async-threads:1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">hipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">=PROGRESS</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> REPORT====</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 8-Jun-2018::16:54:19.916404</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ===</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    application:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> kernel</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    started_at:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nonode@nohost</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">=PROGRESS</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> REPORT====</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 8-Jun-2018::16:54:19.922908</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ===</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    application:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> stdlib</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    started_at:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nonode@nohost</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">=PROGRESS</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> REPORT====</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 8-Jun-2018::16:54:19.925755</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ===</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    supervisor:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {local,kernel_safe_sup}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    started:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [{</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pid,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;0.74.0&gt;},</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">              {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">id,disk_log_sup},</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">              {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mfargs,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{disk_log_sup,start_link,[]}</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">},</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">              {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">restart_type,permanent},</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">              {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">shutdown,1000},</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">              {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">child_type,supervisor}]</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">=PROGRESS</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> REPORT====</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 8-Jun-2018::16:54:19.926056</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ===</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    supervisor:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {local,kernel_safe_sup}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    started:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [{</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pid,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;0.75.0&gt;},</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">              {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">id,disk_log_server},</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">              {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mfargs,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{disk_log_server,start_link,[]}</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">},</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">              {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">restart_type,permanent},</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">              {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">shutdown,2000},</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">              {</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">child_type,worker}]</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Eshell</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> V10.0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  (abort </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">with</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ^G</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">1&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10)]))}const p=i(l,[["render",h]]),r=JSON.parse('{"path":"/backend/erlang/a8zrd50h/","title":"错误日志记录","lang":"zh-CN","frontmatter":{"title":"错误日志记录","createTime":"2025/03/22 15:13:51","permalink":"/backend/erlang/a8zrd50h/"},"headers":[],"readingTime":{"minutes":1.76,"words":529},"git":{"updatedTime":1743091220000,"contributors":[{"name":"舒永好","username":"舒永好","email":"shuyonghao@guoshenghuaxing.com","commits":1,"avatar":"https://gravatar.com/avatar/4b1c3f37ea707968be73c631a79de33afd360724ce87bf8f9dcacd67d14df92c?d=retro"}]},"filePathRelative":"notes/backend/erlang/erlang_otp/system_rule/error_log.md"}');export{p as comp,r as data};
