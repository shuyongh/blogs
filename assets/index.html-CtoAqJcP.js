import{_ as i,c as e,a,o as n}from"./app-C7T5jqfQ.js";const l="/blogs/assets/image-20230928100109825-eIYZK0b5.png",d="/blogs/assets/image-20231029125549638-QdLfkSSy.png",t="/blogs/assets/image-20231029125633594-D5rZuDRf.png",r="/blogs/assets/image-20231029125641064-uF0e3VUt.png",p="/blogs/assets/image-20231029125728539-BTtxAMot.png",c="/blogs/assets/image-20231029125747094-BXmZOIfK.png",h="/blogs/assets/image-20230201220418104-DPH5VQCx.png",g="/blogs/assets/image-20230201220233158-WtuGrwqM.png",v="/blogs/assets/image-20230201220328282-D6LlpFFM.png",o="/blogs/assets/image-20231029125310425-CDcD07Qq.png",m="/blogs/assets/image-20230928101354971-DPIppfay.png",k="/blogs/assets/image-20230928101508701-CtiZl5zI.png",u="/blogs/assets/image-20230928101620231-DUYlWlHX.png",b={};function f(y,s){return n(),e("div",null,s[0]||(s[0]=[a('<h2 id="虚拟机联网" tabindex="-1"><a class="header-anchor" href="#虚拟机联网"><span>虚拟机联网</span></a></h2><ul><li>打开文件</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>vim /etc/sysconfig/network-scripts/ifcfg-ens33</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+l+`" alt="image-20230928100109825"></p><ul><li>重启网卡</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>systemctl restart network</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="固定ip" tabindex="-1"><a class="header-anchor" href="#固定ip"><span>固定ip</span></a></h2><h3 id="详细步骤" tabindex="-1"><a class="header-anchor" href="#详细步骤"><span>详细步骤</span></a></h3><h4 id="配置网络" tabindex="-1"><a class="header-anchor" href="#配置网络"><span>配置网络</span></a></h4><p>配置网络时，要不断使用的命令如下：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>ip addr</span></span>
<span class="line"><span>systemctl restart/start/stop NetworkManager</span></span>
<span class="line"><span>systemctl restart/start/stop network</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="配置静态ip" tabindex="-1"><a class="header-anchor" href="#配置静态ip"><span>配置静态ip</span></a></h4><p>默认文件路径如下</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>vi /etc/sysconfig/network-scripts/ifcfg-ens33</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>文件内容修改如下</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>TYPE=Ethernet</span></span>
<span class="line"><span>#PROXY_METHOD=none</span></span>
<span class="line"><span>#BROWSER_ONLY=no</span></span>
<span class="line"><span>BOOTPROTO=static</span></span>
<span class="line"><span>DEFROUTE=yes</span></span>
<span class="line"><span>IPV4_FAILURE_FATAL=no</span></span>
<span class="line"><span>IPV6INIT=yes</span></span>
<span class="line"><span>IPV6_AUTOCONF=yes</span></span>
<span class="line"><span>IPV6_DEFROUTE=yes</span></span>
<span class="line"><span>IPV6_FAILURE_FATAL=no</span></span>
<span class="line"><span>IPV6_ADDR_GEN_MODE=stable-privacy</span></span>
<span class="line"><span>NAME=ens33</span></span>
<span class="line"><span>#UUID=c0341c35-4868-4203-a0f5-33157812cb08</span></span>
<span class="line"><span>DEVICE=ens33</span></span>
<span class="line"><span>ONBOOT=yes</span></span>
<span class="line"><span>IPADDR=192.168.74.204</span></span>
<span class="line"><span>NETMASK=255.255.240.0</span></span>
<span class="line"><span>GATEWAY=192.168.64.254</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="哪里看ipaddr、gateway-netmask呢" tabindex="-1"><a class="header-anchor" href="#哪里看ipaddr、gateway-netmask呢"><span>哪里看IPADDR、GATEWAY，NETMASK呢</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>打开网络和共享中心---&gt; 更改适配器设置---&gt;右击无线网络---&gt;状态--&gt;详细信息</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="`+d+'" alt="image-20231029125549638"></p><p>在该页面查询IP、子网掩码、网关等信息</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>注意：这三个字段信息的来源就是状态中的详细信息，千万不要胡乱填写，不然网络部通，或者ping不通域名</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="配置ipaddr" tabindex="-1"><a class="header-anchor" href="#配置ipaddr"><span>配置IPADDR</span></a></h4><p><img src="'+t+'" alt="image-20231029125633594"></p><h4 id="配置子网掩码和网关" tabindex="-1"><a class="header-anchor" href="#配置子网掩码和网关"><span>配置子网掩码和网关</span></a></h4><p><img src="'+r+'" alt="image-20231029125641064"></p><h4 id="配置dns域名服务器" tabindex="-1"><a class="header-anchor" href="#配置dns域名服务器"><span>配置DNS域名服务器</span></a></h4><p>在配置了IPADDR、NETMASK、GATEWAY之后，重启了NetworkManager、network服务，可以ping通百度网站对应的数字ip地址</p><p><img src="'+p+'" alt="image-20231029125728539"></p><p>此时应该为本机添加DNS服务器地址，而该地址同样位于状态–&gt;详细信息中：</p><p><img src="'+c+`" alt="image-20231029125747094"></p><p>并修改配置文件**/etc/resolv.conf**，修改内容如下</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>[root@localhost network-scripts]# cat /etc/resolv.conf </span></span>
<span class="line"><span># Generated by NetworkManager</span></span>
<span class="line"><span>nameserver 8.8.8.8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="大致步骤" tabindex="-1"><a class="header-anchor" href="#大致步骤"><span>大致步骤</span></a></h3><p>1、虚拟机的Linux操作系统 ，其ip地址是通过DHCP服务获取 的</p><p>2、DHCP：动态获取 ip地址，即每次重启设备后都会获取 一次，可能 导致ip地址频繁变更</p><p>3、配置固定ip步骤</p><ul><li>在Linux系统中手动修改配置文件，固定ip</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>vim /etc/sysconfig/network-scripts/ifcfg-ens33</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><img src="`+h+'" alt="image-20230201220418104"></li><li>重启网卡</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>systemctl restart network</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p>在VM中配置ip地址网关和网段（ip地址的范围）</p><ul><li><img src="'+g+'" alt="image-20230201220233158"></li><li><img src="'+v+`" alt="image-20230201220328282"></li></ul></li></ul><h3 id="公网dns服务器" tabindex="-1"><a class="header-anchor" href="#公网dns服务器"><span>公网DNS服务器</span></a></h3><p><strong>阿里</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>223.5.5.5</span></span>
<span class="line"><span>223.6.6.6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>腾讯</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>119.29.29.29</span></span>
<span class="line"><span>182.254.118.118</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>百度</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>180.76.76.76</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>114DNS</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>114.114.114.114</span></span>
<span class="line"><span>114.114.115.115</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>谷歌</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>8.8.8.8</span></span>
<span class="line"><span>8.8.4.4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="错误排查" tabindex="-1"><a class="header-anchor" href="#错误排查"><span>错误排查</span></a></h3><h4 id="ping-www-baidu-com-未知的名称或服务" tabindex="-1"><a class="header-anchor" href="#ping-www-baidu-com-未知的名称或服务"><span>ping: www.baidu.com: 未知的名称或服务</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>vi /etc/resovl.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="`+o+'" alt="image-20231029125310425"></p><ul><li>ping DNS1,看是否可以ping通</li></ul><p><img src="'+m+'" alt="image-20230928101354971"></p><ul><li>查看网关是否配置正确</li></ul><p><img src="'+k+'" alt="image-20230928101508701"></p><ul><li>查看虚拟机的网关是与宿主机的网关一致</li></ul><p><img src="'+u+'" alt="image-20230928101620231"></p>',62)]))}const x=i(b,[["render",f]]),D=JSON.parse('{"path":"/os/uy8t3vlw/","title":"安装与配置","lang":"zh-CN","frontmatter":{"title":"安装与配置","createTime":"2025/03/23 18:15:09","permalink":"/os/uy8t3vlw/"},"headers":[],"readingTime":{"minutes":1.92,"words":577},"git":{"updatedTime":1743091220000,"contributors":[{"name":"舒永好","username":"舒永好","email":"shuyonghao@guoshenghuaxing.com","commits":1,"avatar":"https://gravatar.com/avatar/4b1c3f37ea707968be73c631a79de33afd360724ce87bf8f9dcacd67d14df92c?d=retro"}]},"filePathRelative":"notes/os/linux/download.md"}');export{x as comp,D as data};
