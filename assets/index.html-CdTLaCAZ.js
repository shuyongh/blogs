import{_ as i,c as a,a as n,o as e}from"./app-C7T5jqfQ.js";const l="/blogs/assets/image-20230727210752237-CYEo1R5Y.png",h="/blogs/assets/image-20240711123323232-CI0CxMCE.png",p="/blogs/assets/image-20230727210951594-CsMcxfki.png",t={};function d(k,s){return e(),a("div",null,s[0]||(s[0]=[n('<ul><li>DockerFile可以让把我们自定义镜像</li></ul><h2 id="镜像结构" tabindex="-1"><a class="header-anchor" href="#镜像结构"><span>镜像结构</span></a></h2><ul><li>镜像是将应用程序及其需要的系统函数库、环境、配置、依赖打包而成</li></ul><p><img src="'+l+'" alt="image-20230727210752237"></p><h2 id="dockerfile语法" tabindex="-1"><a class="header-anchor" href="#dockerfile语法"><span>Dockerfile语法</span></a></h2><ul><li>Dockerfile就是一个文本文件，其中包含一个个的指令，用指令来说明要执行什么操作来构建镜像，每一个指令都会形成一层Layer</li><li>不区分大小写，但是习惯大写</li><li>基本以from指令开头</li><li>#开头代表注释</li></ul><h3 id="常用指令" tabindex="-1"><a class="header-anchor" href="#常用指令"><span>常用指令</span></a></h3><p><img src="'+h+'" alt="image-20240711123323232"></p><p><img src="'+p+`" alt="image-20230727210951594"></p><h3 id="from" tabindex="-1"><a class="header-anchor" href="#from"><span>FROM</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>作用： 用来定义基础镜像</span></span>
<span class="line"><span>语法： FROM 镜像名:标签名</span></span>
<span class="line"><span>	例如 FROM centos:7</span></span>
<span class="line"><span>作用时机： 构建镜像的时候</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cmd" tabindex="-1"><a class="header-anchor" href="#cmd"><span>CMD</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>作用：用来定神我容器运行时的默认命令，可以在使用docker run 的时候覆盖掉CMD中定义的命令</span></span>
<span class="line"><span>作用时机：运行容器的时候</span></span>
<span class="line"><span>语法： CMD [&quot;命令&quot;,&quot;参数1&quot;,&quot;参数2&quot;]</span></span>
<span class="line"><span>	或 CMD 命令 参数       -------这种形式可以解析环境变量</span></span>
<span class="line"><span>注意：一个DockerFile中写多个CMD时，只有最后一个CMD会生效</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="env" tabindex="-1"><a class="header-anchor" href="#env"><span>ENV</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>作用： 用来定义环境变量</span></span>
<span class="line"><span>语法： ENV 变量名=“变量值”</span></span>
<span class="line"><span>	例如： ENV DIR=“/root”</span></span>
<span class="line"><span>作用时机： 构建镜像的时候</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="workdir" tabindex="-1"><a class="header-anchor" href="#workdir"><span>WORKDIR</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>作用：用于设置镜像中的当前工作的目录，如果该目录不存在会自动创建，可进行多层创建</span></span>
<span class="line"><span>语法：WORKDIR 目录</span></span>
<span class="line"><span>	例如： WORKDIR /root/app</span></span>
<span class="line"><span>作用时机：构建镜像的时候</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="run" tabindex="-1"><a class="header-anchor" href="#run"><span>RUN</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>作用：用来定义构建过程中要执行的命令</span></span>
<span class="line"><span>语法： RUN 命令</span></span>
<span class="line"><span>	例如 RUN echo xxxx</span></span>
<span class="line"><span>作用时机：构建镜像的时候</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="add" tabindex="-1"><a class="header-anchor" href="#add"><span>ADD</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>作用：把构建上下文中的文件或者网络文件添加到镜像中，如果文件是本地压缩包，会自动进行解压，如果文件是网络压缩包，则不会自动解压</span></span>
<span class="line"><span>语法： ADD 原路径 目标路径</span></span>
<span class="line"><span>	例如 ADD xxx.tar.gz</span></span>
<span class="line"><span>作用时机： 构建镜像的时候</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="expose" tabindex="-1"><a class="header-anchor" href="#expose"><span>EXPOSE</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>作用：暴露要发布的商品，让镜像使得者知道应该发布哪些商品</span></span>
<span class="line"><span>语法： EXPOSE 端口号1 端口号2...</span></span>
<span class="line"><span>	例如： EXPOSE 80 8080</span></span>
<span class="line"><span>作用时机：构建镜像的时候</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="copy" tabindex="-1"><a class="header-anchor" href="#copy"><span>COPY</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>作用：从构建上下文中复制内容到镜像中</span></span>
<span class="line"><span>用法：COPY 原路径 目标路径</span></span>
<span class="line"><span>	例如：COPY xxx.tar.gx</span></span>
<span class="line"><span>作用时机：构建镜像的时候</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="entrypoint" tabindex="-1"><a class="header-anchor" href="#entrypoint"><span>ENTRYPOINT</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>作用：用来定义容器运行时的默认命令，docker run 的时候无法覆盖ENTRYPOINT里的内容</span></span>
<span class="line"><span>语法: ENTRYPOINT [&quot;命令&quot;,&quot;参数1&quot;,&quot;参数2&quot;]</span></span>
<span class="line"><span>	例如： ENTRYPOINT [&quot;echo&quot;,&quot;helloworld&quot;]</span></span>
<span class="line"><span>作用时机：运行容器的时候</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="arg" tabindex="-1"><a class="header-anchor" href="#arg"><span>ARG</span></a></h3><p>构建参数，与 ENV 作用一致。不过作用域不一样。ARG 设置的环境变量仅对 Dockerfile 内有效，也就是说只有 docker build 的过程中有效，构建好的镜像内不存在此环境变量。</p><p>构建命令 docker build 中可以用 --build-arg &lt;参数名&gt;=&lt;值&gt; 来覆盖。</p><ul><li>格式</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>ARG &lt;参数名&gt;[=&lt;默认值&gt;]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="编译镜像" tabindex="-1"><a class="header-anchor" href="#编译镜像"><span>编译镜像</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker build -t 镜像名:标签 -f DockerFile文件名 输出路径</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="生成镜像" tabindex="-1"><a class="header-anchor" href="#生成镜像"><span>生成镜像</span></a></h2><ul><li>使用命令 docker build ，通过创建一个 Dockerfile 文件，其中包含一组指令来告诉 Docker 如何构建我们的镜像。</li></ul><h3 id="创建dockerfile文件" tabindex="-1"><a class="header-anchor" href="#创建dockerfile文件"><span>创建Dockerfile文件</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>FROM    pdai/ubuntu:v1.0.1</span></span>
<span class="line"><span>MAINTAINER      pdai &quot;pdai.tech&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>RUN     /bin/echo &#39;root:123456&#39; |chpasswd</span></span>
<span class="line"><span>RUN     useradd pdai</span></span>
<span class="line"><span>RUN     /bin/echo &#39;pdai:123456&#39; |chpasswd</span></span>
<span class="line"><span>RUN     /bin/echo -e &quot;LANG=\\&quot;en_US.UTF-8\\&quot;&quot; &gt;/etc/default/local</span></span>
<span class="line"><span>EXPOSE  22</span></span>
<span class="line"><span>EXPOSE  80</span></span>
<span class="line"><span>CMD     /usr/sbin/sshd -D</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>每一个指令都会在镜像上创建一个新的层，每一个指令的前缀都必须是大写的。</p></li><li><p>第一条FROM，指定使用哪个镜像源</p></li><li><p>RUN 指令告诉docker 在镜像内执行命令，安装了什么。。。</p></li><li><p>我们使用 Dockerfile 文件，通过 docker build 命令来构建一个镜像。</p></li></ul><h3 id="生成镜像-1" tabindex="-1"><a class="header-anchor" href="#生成镜像-1"><span>生成镜像</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">root@pdai</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> docker-test]#</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> build</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -t</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pdai/ubuntu:v2.0.1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Sending</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> build</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> context</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> daemon</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  2.048kB</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Step</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1/9</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> :</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> FROM</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    pdai/ubuntu:v1.0.1</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">b51e9f5f98cd</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Step</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 2/9</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> :</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> MAINTAINER</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      pdai</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">pdai.tech</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> af026ee229ea</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Removing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> intermediate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> container</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> af026ee229ea</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">0e961cb557c9</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Step</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 3/9</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> :</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> RUN</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     /bin/echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">root:123456</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chpasswd</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 96bd9c40c55e</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Removing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> intermediate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> container</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 96bd9c40c55e</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">9e8549720043</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Step</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 4/9</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> :</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> RUN</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     useradd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pdai</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 0117278f243c</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Removing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> intermediate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> container</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 0117278f243c</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">87c478df56da</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Step</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 5/9</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> :</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> RUN</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     /bin/echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">pdai:123456</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chpasswd</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> e0381eabe71a</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Removing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> intermediate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> container</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> e0381eabe71a</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">84fd07f978ae</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Step</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 6/9</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> :</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> RUN</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     /bin/echo</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">LANG=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">en_US.UTF-8</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/etc/default/local</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 8d0052d9921f</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Removing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> intermediate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> container</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 8d0052d9921f</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">3ed0b248224c</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Step</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 7/9</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> :</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> EXPOSE</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  22</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 4b5d540567cd</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Removing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> intermediate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> container</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 4b5d540567cd</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">c0a72ad140dd</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Step</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 8/9</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> :</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> EXPOSE</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  80</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> c9620707d038</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Removing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> intermediate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> container</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> c9620707d038</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">df42b714ecc1</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Step</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 9/9</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> :</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> CMD</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     /usr/sbin/sshd</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -D</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> e178826b43fe</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Removing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> intermediate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> container</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> e178826b43fe</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ---</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">a733d5a264b5</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Successfully</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> built</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a733d5a264b5</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Successfully</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tagged</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pdai/ubuntu:v2.0.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>-t</code> ：指定要创建的目标镜像名</li><li><code>.</code> ：Dockerfile 文件所在目录，可以指定Dockerfile 的绝对路径</li></ul><h2 id="构建java项目" tabindex="-1"><a class="header-anchor" href="#构建java项目"><span>构建Java项目</span></a></h2>`,43)]))}const c=i(t,[["render",d]]),g=JSON.parse('{"path":"/os/ts63sh8h/","title":"Dockerfile","lang":"zh-CN","frontmatter":{"title":"Dockerfile","createTime":"2025/04/05 16:56:42","permalink":"/os/ts63sh8h/"},"headers":[],"readingTime":{"minutes":3.69,"words":1107},"git":{"updatedTime":1743864983000,"contributors":[{"name":"舒永好","username":"舒永好","email":"shuyonghao@guoshenghuaxing.com","commits":1,"avatar":"https://gravatar.com/avatar/4b1c3f37ea707968be73c631a79de33afd360724ce87bf8f9dcacd67d14df92c?d=retro"}]},"filePathRelative":"notes/os/docker/docker_file.md"}');export{c as comp,g as data};
