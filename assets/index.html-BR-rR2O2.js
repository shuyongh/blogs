import{_ as s,c as a,a as e,o as n}from"./app-C7T5jqfQ.js";const l="/blogs/assets/image-20230727153424948-DtkVKXWA.png",h="/blogs/assets/image-20230727154622692-CHs5UiVt.png",t="/blogs/assets/image-20230727154707250-DJL9thO3.png",k="/blogs/assets/image-20230727154742637-hJiVdBFQ.png",d="/blogs/assets/image-20230727154902935-C_JWkwDr.png",p="/blogs/assets/image-20230727155612314-B8UnLzDK.png",r="/blogs/assets/image-20230727161725083-DcUz5aC5.png",g="/blogs/assets/image-20230910132055795-C9a_9zDm.png",c="/blogs/assets/image-20230910132237095-BnlFBNV_.png",o="/blogs/assets/image-20230910132244901-C5Ll4bDF.png",u="/blogs/assets/image-20230727161805173-C66DdyJT.png",v="/blogs/assets/image-20230727162614856-CeazKh24.png",b="/blogs/assets/image-20230910133428270-BZx908Nu.png",m="/blogs/assets/image-20230727210249806-D9Yf5_eF.png",y="/blogs/assets/image-20230910135423533-B0cqcjRr.png",A="/blogs/assets/image-20230727204102634-Dvr43DgW.png",f={};function D(B,i){return n(),a("div",null,i[0]||(i[0]=[e(`<ul><li>镜像名称一般分两部分组成：[repository]:[tag]</li><li>在没有指定tag时，默认是latest,代表最新版本的镜像</li></ul><h2 id="docker命令" tabindex="-1"><a class="header-anchor" href="#docker命令"><span>docker命令</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker --help 查看帮助文档</span></span>
<span class="line"><span>docker 命令 --help 查看某个命令的具体用法</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="镜像命令" tabindex="-1"><a class="header-anchor" href="#镜像命令"><span>镜像命令</span></a></h2><p><img src="`+l+'" alt="image-20230727153424948"></p><ul><li>搜索镜像</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker search 镜像名</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>docker hub</strong>https://hub.docker.com/</p><ul><li>拉取镜像 <ul><li>如果没有指定标签，默认是下载的latest标签的镜像</li></ul></li></ul><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pull</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [repository]:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">tag</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>保存镜像为一个压缩包</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker save -o [压缩包名] [repository]:[tag]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+h+'" alt="image-20230727154622692"></p><ul><li>查看本场镜像</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker images</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+t+'" alt="image-20230727154707250"></p><ul><li>查看某一个镜像的详情</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker image inspect 名称|ID</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>删除本地镜像</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker rmi [repository]:[tag]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+k+'" alt="image-20230727154742637"></p><ul><li>加载压缩包为镜像</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker load -i [压缩包名]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+d+'" alt="image-20230727154902935"></p><h2 id="容器命令" tabindex="-1"><a class="header-anchor" href="#容器命令"><span>容器命令</span></a></h2><p><img src="'+p+`" alt="image-20230727155612314"></p><h3 id="查看容器详细信息" tabindex="-1"><a class="header-anchor" href="#查看容器详细信息"><span>查看容器详细信息</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker inspect</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="运行" tabindex="-1"><a class="header-anchor" href="#运行"><span>运行</span></a></h3><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">docker run </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">options</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> image </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">command</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">arg</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#D4976C;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> options: 选项</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	-d:后台运行容器</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	-t:启动窗口后，为容器分配一个命令行，通常与-i同时使用，并且一般容器的执行命令会使用bash，这样才能在进入容器后执行命令</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	-i:以交互模式运行容器，通常与-t同时使用</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	-v:数据卷</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	--name:容器命名</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	--restart:容器退出后的重启策略</span></span>
<span class="line"><span style="--shiki-light:#1C6B48;--shiki-dark:#4D9375;">		- no: 容器退出时不会自动重启（默认策略）</span></span>
<span class="line"><span style="--shiki-light:#1C6B48;--shiki-dark:#4D9375;">		- always: 容器总是在退出后自动重启</span></span>
<span class="line"><span style="--shiki-light:#1C6B48;--shiki-dark:#4D9375;">		- on-failure[:max-retries]: 容器仅在非正常退出时重启，可以指定最大重试次数</span></span>
<span class="line"><span style="--shiki-light:#1C6B48;--shiki-dark:#4D9375;">		- unless-stopped: 容器会在退出扣自动重启，除非手动停止了容器</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	-p:将宿主机端口与容器端口映射，冒号左侧是宿主机端口，右侧是容器端口</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	-e:设置环境变量</span></span>
<span class="line"><span style="--shiki-light:#1C6B48;--shiki-dark:#4D9375;">		-用法：-e 变量名=变量值</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#D4976C;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> image: 镜像信息推荐使用镜像名:TAG的写法</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#D4976C;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> command: 创建窗口后要执行的命令</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#D4976C;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> arg： command命令的参数</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+r+`" alt="image-20230727161725083"></p><h3 id="删除容器" tabindex="-1"><a class="header-anchor" href="#删除容器"><span>删除容器</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker rm [-f] ID|别名</span></span>
<span class="line"><span>-f:强制删除一个正在运行的容器</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+g+'" alt="image-20230910132055795"></p><h4 id="清理停止的容器" tabindex="-1"><a class="header-anchor" href="#清理停止的容器"><span>清理停止的容器</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker container prune</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>以下几个容器都处于停止状态，</li></ul><p><img src="'+c+'" alt="image-20230910132237095"></p><p><img src="'+o+`" alt="image-20230910132244901"></p><h3 id="查看状态" tabindex="-1"><a class="header-anchor" href="#查看状态"><span>查看状态</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker ps [-a]</span></span>
<span class="line"><span># -a 表示all，所有的</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+u+`" alt="image-20230727161805173"></p><h3 id="查看日志" tabindex="-1"><a class="header-anchor" href="#查看日志"><span>查看日志</span></a></h3><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">docker logs </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">镜像名称</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-light-font-weight:bold;--shiki-dark:#666666;--shiki-dark-font-weight:bold;">#</span><span style="--shiki-light:#1C6B48;--shiki-light-font-weight:bold;--shiki-dark:#4D9375;--shiki-dark-font-weight:bold;"> -f：持续跟踪</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="进入容器" tabindex="-1"><a class="header-anchor" href="#进入容器"><span>进入容器</span></a></h3><ul><li>exec命令可以进入容器修改文件，但是在容器内修改文件是不推荐的</li></ul><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">docker exec -it nginx /bin/bash</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-light-font-weight:bold;--shiki-dark:#666666;--shiki-dark-font-weight:bold;">#</span><span style="--shiki-light:#1C6B48;--shiki-light-font-weight:bold;--shiki-dark:#4D9375;--shiki-dark-font-weight:bold;"> docker exec:进入容器内部，执行一个命令</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-light-font-weight:bold;--shiki-dark:#666666;--shiki-dark-font-weight:bold;">#</span><span style="--shiki-light:#1C6B48;--shiki-light-font-weight:bold;--shiki-dark:#4D9375;--shiki-dark-font-weight:bold;"> -it</span></span>
<span class="line"><span style="--shiki-light:#1C6B48;--shiki-dark:#4D9375;">	# -t:在新容器内指定一个伪终端或终端</span></span>
<span class="line"><span style="--shiki-light:#1C6B48;--shiki-dark:#4D9375;">	# -i:允许你对容器内的标准输入进行交互</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-light-font-weight:bold;--shiki-dark:#666666;--shiki-dark-font-weight:bold;">#</span><span style="--shiki-light:#1C6B48;--shiki-light-font-weight:bold;--shiki-dark:#4D9375;--shiki-dark-font-weight:bold;"> nginx: 要进入的容器的名称</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-light-font-weight:bold;--shiki-dark:#666666;--shiki-dark-font-weight:bold;">#</span><span style="--shiki-light:#1C6B48;--shiki-light-font-weight:bold;--shiki-dark:#4D9375;--shiki-dark-font-weight:bold;"> bash: 进入容器后执行的命令，bash是一个Linux终端交互命令</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+v+`" alt="image-20230727162614856"></p><h3 id="容器的导入与导出" tabindex="-1"><a class="header-anchor" href="#容器的导入与导出"><span>容器的导入与导出</span></a></h3><ul><li>容器的导出 <ul><li>导出容器的时候，容器无需关闭。</li></ul></li></ul><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">root@pdai </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># docker ps</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">CONTAINER</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ID</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        IMAGE</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                COMMAND</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">             CREATED</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">             STATUS</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              PORTS</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">               NAMES</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">f5332ebce695</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        pdai/ubuntu:v2.0.1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">   &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/bin/bash</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">         42</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> minutes</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      Up</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 8</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> seconds</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        22/tcp,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 80/tcp</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      jolly_kepler</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">root@pdai </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># docker </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">export</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> f5332ebce695</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> ubuntu-pdai-v2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">tar</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">root@pdai </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># ll</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">-rw-rw-r--</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 93891072</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Feb</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 18</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 09:42</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ubuntu-pdai-v2.tar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>容器 的导入</li></ul><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">root@pdai </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># docker import ubuntu-pdai-v2.tar pdai/ubuntu:v2.0.2</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sha256:57544a04cd1ad330371ca9142184ff031dc2b6df70df177994477c08fe547b25</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">root@pdai </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># docker images</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">REPOSITORY</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">          TAG</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                 IMAGE</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ID</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">            CREATED</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">             SIZE</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pdai/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         v2.0.2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              57544a04cd1a</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        7</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> seconds</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">       91.5MB</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pdai/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         v2.0.1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              a733d5a264b5</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        About</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> an</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hour</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   92.5MB</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pdai/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         v3.0.1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              a733d5a264b5</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        About</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> an</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hour</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   92.5MB</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pdai/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         v1.0.1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              b51e9f5f98cd</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        16</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hours</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        92.1MB</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mysql</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">               latest</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              791b6e40940c</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> weeks</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         465MB</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              latest</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              ccc6e87d482b</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> weeks</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         64.2MB</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="容器文件拷贝" tabindex="-1"><a class="header-anchor" href="#容器文件拷贝"><span>容器文件拷贝</span></a></h3><ul><li>把容器 中的文件拷贝到宿主机中</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker cp [options] container:dest_path src_path</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>把宿主机的文件拷贝到容器中</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker cp [options] src_path container:dest_path</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="镜像仓库" tabindex="-1"><a class="header-anchor" href="#镜像仓库"><span>镜像仓库</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>账号：syhsyh</span></span>
<span class="line"><span>密码：248918.zxs</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="公有仓库" tabindex="-1"><a class="header-anchor" href="#公有仓库"><span>公有仓库</span></a></h3><ul><li><strong>注册官方docker hub</strong>https://hub.docker.com/</li><li><strong>本地登录</strong>刚才注册的账户</li></ul><p><img src="`+b+`" alt="image-20230910133428270"></p><ul><li>镜像准备</li></ul><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">root@pdai </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># docker tag pdai/ubuntu:v2.0.2 realpdai/ubuntu:v2.0.2</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">root@pdai </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># docker images</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">REPOSITORY</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">          TAG</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                 IMAGE</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ID</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">            CREATED</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">             SIZE</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pdai/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         v2.0.2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              57544a04cd1a</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hours</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         91.5MB</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">realpdai/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     v2.0.2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              57544a04cd1a</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hours</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         91.5MB</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pdai/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         v2.0.1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              a733d5a264b5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        5</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hours</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         92.5MB</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pdai/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         v3.0.1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              a733d5a264b5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        5</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hours</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         92.5MB</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pdai/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         v1.0.1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              b51e9f5f98cd</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        21</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hours</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        92.1MB</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mysql</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">               latest</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              791b6e40940c</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> weeks</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         465MB</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              latest</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              ccc6e87d482b</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> weeks</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         64.2MB</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>推送至Docker Hub服务器</li></ul><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">root@pdai </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># docker push realpdai/ubuntu:v2.0.2</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">The</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> refers</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> repository</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [docker.io/realpdai/ubuntu]</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">9a2c43cbe02a:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Pushed</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">v2.0.2:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> digest:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sha256:4afd82dd05d0b4a340ae4f4129dcbd63136b5ec7ff92edf313108a41fb0947e0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> size:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 528</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="数据卷" tabindex="-1"><a class="header-anchor" href="#数据卷"><span>数据卷</span></a></h2><p>数据卷的使用，类似于 Linux 下对目录或文件进行 mount</p><p>用于解决容器与数据耦合的问题</p><ul><li>数据卷是一个虚拟目录，指向宿主机文件系统中的某个目录</li><li>数据卷可以在容器之间共享和重用</li><li>对数据卷的修改会立马生效</li><li>对数据卷的更新，不会影响镜像</li><li>卷会一直存在，直到没有容器使用</li></ul><p><img src="`+m+`" alt="image-20230727210249806"></p><h3 id="操作数据卷" tabindex="-1"><a class="header-anchor" href="#操作数据卷"><span>操作数据卷</span></a></h3><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">docker volume </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">COMMAND</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-light-font-weight:bold;--shiki-dark:#666666;--shiki-dark-font-weight:bold;">#</span><span style="--shiki-light:#1C6B48;--shiki-light-font-weight:bold;--shiki-dark:#4D9375;--shiki-dark-font-weight:bold;"> docker volume命令是数据卷操作，根据命令后跟随的command来确定下一步的操作</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-light-font-weight:bold;--shiki-dark:#666666;--shiki-dark-font-weight:bold;">#</span><span style="--shiki-light:#1C6B48;--shiki-light-font-weight:bold;--shiki-dark:#4D9375;--shiki-dark-font-weight:bold;"> create 创建一个volume</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-light-font-weight:bold;--shiki-dark:#666666;--shiki-dark-font-weight:bold;">#</span><span style="--shiki-light:#1C6B48;--shiki-light-font-weight:bold;--shiki-dark:#4D9375;--shiki-dark-font-weight:bold;"> inspect 显示一个或多个volume的信息</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-light-font-weight:bold;--shiki-dark:#666666;--shiki-dark-font-weight:bold;">#</span><span style="--shiki-light:#1C6B48;--shiki-light-font-weight:bold;--shiki-dark:#4D9375;--shiki-dark-font-weight:bold;"> ls 列出所有的volume</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-light-font-weight:bold;--shiki-dark:#666666;--shiki-dark-font-weight:bold;">#</span><span style="--shiki-light:#1C6B48;--shiki-light-font-weight:bold;--shiki-dark:#4D9375;--shiki-dark-font-weight:bold;"> prune 删除未使用的voume</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-light-font-weight:bold;--shiki-dark:#666666;--shiki-dark-font-weight:bold;">#</span><span style="--shiki-light:#1C6B48;--shiki-light-font-weight:bold;--shiki-dark:#4D9375;--shiki-dark-font-weight:bold;"> rm 删除一个或多个指定的volume</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="挂载数据卷" tabindex="-1"><a class="header-anchor" href="#挂载数据卷"><span>挂载数据卷</span></a></h3><ul><li>我们在创建容器时，可以通过-v参数来挂载一个数据卷到某个容器目录</li></ul><p><img src="`+y+'" alt="image-20230910135423533"></p><ul><li>使用 -v 标记也可以指定挂载一个本地主机的目录到容器中去。</li></ul><p><img src="'+A+`" alt="image-20230727204102634"></p><ul><li>也可自己创建目录进行挂载</li></ul><h2 id="网络" tabindex="-1"><a class="header-anchor" href="#网络"><span>网络</span></a></h2><ul><li>默认情况下容器和容器可以进行网络通信，但是每次创建容器都是Docker给容器分配的Ip地址</li><li>我们可以创建自定义网络来解决这些问题，把需要互相连通的容器加入到同一个网络，这样容器和容器之间就可以通过容器名来代替ip地址进行互相访问</li></ul><h3 id="网络相关操作" tabindex="-1"><a class="header-anchor" href="#网络相关操作"><span>网络相关操作</span></a></h3><h4 id="从docker容器访问宿主机" tabindex="-1"><a class="header-anchor" href="#从docker容器访问宿主机"><span>从docker容器访问宿主机</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker run -d --add-host=host.docker.internal:host-gateway xyz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>xyz 是容器名</p><p>–add-host 参数，意思是向xyz的/etc/<a href="https://so.csdn.net/so/search?q=hosts%E6%96%87%E4%BB%B6&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">hosts文件</a>中增加一条解析</p><ul><li>意思是说，host.docker.internal和host-gateway是docker约定的写法。<strong>host.docker.internal代表容器的ip</strong>，<strong>host-gateway代表容器的网关</strong>，和宿主机ip是绑定的（ip地址不一样）。因为，网关和容器的ip地址不固定，所以在容器内，需要对应ip地址的地方用这两个写法替代，可以减少耦合。</li></ul><h4 id="创建网络" tabindex="-1"><a class="header-anchor" href="#创建网络"><span>创建网络</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker network create 网络名</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="列出网络" tabindex="-1"><a class="header-anchor" href="#列出网络"><span>列出网络</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker network ls</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="加入网络" tabindex="-1"><a class="header-anchor" href="#加入网络"><span>加入网络</span></a></h4><ul><li>创建容器时加入 <ul><li>创建容器时使用--network选项让容器创建时就加入对应的网络</li></ul></li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker run --network 网络名 镜像名</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>创建容器后加入 <ul><li>如果容器已经创建想加入网络可以使用docker network connect命令</li></ul></li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker network connect [选项] 网络名 容器名或容器id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="查看网络详情" tabindex="-1"><a class="header-anchor" href="#查看网络详情"><span>查看网络详情</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker network inspect 网络名或网络id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="删除网络" tabindex="-1"><a class="header-anchor" href="#删除网络"><span>删除网络</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>docker network rm 网络或网络id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="docker默认网桥" tabindex="-1"><a class="header-anchor" href="#docker默认网桥"><span>Docker默认网桥</span></a></h3><ul><li><p>在你安装Docker 服务默认会创建一个 docker0 网桥（其上有一个 docker0 内部接口），它在内核层连通了其他的物理或虚拟网卡，这就将所有容器和本地主机都放到同一个物理网络。</p></li><li><p>我们可用 docker network ls 命令查看：</p></li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">root@pdai </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># docker network ls</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">NETWORK</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ID</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">          NAME</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                DRIVER</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              SCOPE</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">b8c5abdb0bec</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        bridge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              bridge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              local</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">84e86bc93121</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        host</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                host</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                local</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">8e521527a897</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        none</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                null</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                local</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Docker 安装时会自动在 host 上创建三个网络：none，host，和bridge。我们看下docker0 网桥：(brctl可以通过yum install bridge-utils安装</li></ul><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">root@pdai </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># brctl show</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">bridge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> name</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     bridge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> id</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">               STP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enabled</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     interfaces</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         8000.0242703f9d02</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">       no</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">              veth0004826</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">                                                        veth4ad3278</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,106)]))}const E=s(f,[["render",D]]),x=JSON.parse('{"path":"/os/3uol6lrg/","title":"Docker命令","lang":"zh-CN","frontmatter":{"title":"Docker命令","createTime":"2025/04/05 16:55:35","permalink":"/os/3uol6lrg/"},"headers":[],"readingTime":{"minutes":6.21,"words":1863},"git":{"updatedTime":1743864983000,"contributors":[{"name":"舒永好","username":"舒永好","email":"shuyonghao@guoshenghuaxing.com","commits":1,"avatar":"https://gravatar.com/avatar/4b1c3f37ea707968be73c631a79de33afd360724ce87bf8f9dcacd67d14df92c?d=retro"}]},"filePathRelative":"notes/os/docker/command.md"}');export{E as comp,x as data};
