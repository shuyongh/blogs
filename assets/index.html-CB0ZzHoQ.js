import{_ as a,c as t,a as s,o as n}from"./app-C7T5jqfQ.js";const i="/blogs/assets/image-20230928164300915-DVghh3U6.png",o="/blogs/assets/image-20230514113942118-DQn4qmdS.png",r="/blogs/assets/image-20230514114554563-BswzanR8.png",l="/blogs/assets/image-20230514114627413-CuVhFf3X.png",c="/blogs/assets/image-20230514114651267-Cza4yp91.png",p={};function m(g,e){return n(),t("div",null,e[0]||(e[0]=[s('<h2 id="accept-mutex" tabindex="-1"><a class="header-anchor" href="#accept-mutex"><span>accept_mutex</span></a></h2><ul><li><p>用来设置Nginx网络连接序列化</p><ul><li>这个配置主要可以用来解决常说的&quot;惊群&quot;问题。大致意思是在某一个时 刻，客户端发来一个请求连接，Nginx后台是以多进程的工作模式，也 就是说有多个worker进程会被同时唤醒，但是最终只会有一个进程可以 获取到连接，如果每次唤醒的进程数目太多，就会影响Nginx的整体性 能。<strong>如果将上述值设置为on(开启状态)，将会对多个Nginx进程接收连接 进行序列号，一个个来唤醒接收，就防止了多个进程对连接的争抢。</strong>(即有一个请到达时，master进程一次只唤醒一个worker进程)</li></ul><p><img src="'+i+'" alt="image-20230928164300915"></p></li></ul><p><img src="'+o+'" alt="image-20230514113942118"></p><h2 id="multi-accept" tabindex="-1"><a class="header-anchor" href="#multi-accept"><span>multi_accept</span></a></h2><ul><li>用来设置<strong>是否允许同时接收多个网络连接</strong><ul><li>如果multi_accept被禁止了，nginx一个工作进程只能同时接受一个新的 连接。否则，一个工作进程可以同时接受所有的新连接</li></ul></li></ul><p><img src="'+r+'" alt="image-20230514114554563"></p><h2 id="worker-connections" tabindex="-1"><a class="header-anchor" href="#worker-connections"><span>worker_connections</span></a></h2><ul><li>用来配置单个worker进程最大的连接数</li></ul><p><img src="'+l+'" alt="image-20230514114627413"></p><h2 id="use" tabindex="-1"><a class="header-anchor" href="#use"><span>use</span></a></h2><ul><li>用来设置Nginx服务器选择哪种事件驱动来处理网络消息。 <ul><li>注意：此处所选择事件处理模型是Nginx优化部分的一个重要内容， method的可选值有select/poll/<strong>epoll</strong>/kqueue等，之前在准备centos环 境的时候，我们强调过要使用linux内核在2.6以上，就是为了能使用 epoll函数来优化Nginx</li></ul></li></ul><p><img src="'+c+'" alt="image-20230514114651267"></p>',12)]))}const d=a(p,[["render",m]]),h=JSON.parse('{"path":"/os/ea4u3qt7/","title":"event块","lang":"zh-CN","frontmatter":{"title":"event块","createTime":"2025/04/05 16:34:55","permalink":"/os/ea4u3qt7/"},"headers":[],"readingTime":{"minutes":1.36,"words":409},"git":{"updatedTime":1743864983000,"contributors":[{"name":"舒永好","username":"舒永好","email":"shuyonghao@guoshenghuaxing.com","commits":1,"avatar":"https://gravatar.com/avatar/4b1c3f37ea707968be73c631a79de33afd360724ce87bf8f9dcacd67d14df92c?d=retro"}]},"filePathRelative":"notes/os/nginx/base/event_block.md"}');export{d as comp,h as data};
