import{_ as a,c as e,a as i,o as n}from"./app-C7T5jqfQ.js";const l="/blogs/assets/image-20231004093438181-CUOfWDxR.png",t="/blogs/assets/image-20231004093737962-CIr7V87a.png",d={};function r(p,s){return n(),e("div",null,s[0]||(s[0]=[i('<p>对应系统资源的访问，我们往往需要限制谁能访问，谁不能访问，这块就是我们通常所说的认证部分，认证需要做的就是根据用户输入的用户名和官能来判定用户是否为合法用户，如果是则旅行访问，如果不是则拒绝访问</p><p>Nginx对应用户认证这块是通过<code>ngx_http_auth_basic_module</code>模块来实现的，它允许通过使用HTTP基本身份验证协议验证用户名和密码来限制对资源的访问，默认情况下nginx是已经安装了该模块，如果不需要则使用--without-</p><h2 id="auth-basic" tabindex="-1"><a class="header-anchor" href="#auth-basic"><span>auth_basic</span></a></h2><ul><li>使用HTTP基本认证协议启用用户名和密码的验证</li></ul><p><img src="'+l+'" alt="image-20231004093438181"></p><p>开启后，服务端会返回401，指定的字符串会返回到客户端，给用户以提示信息，但是不同的浏览器对内容的展示不一致</p><h2 id="auth-basic-user-file" tabindex="-1"><a class="header-anchor" href="#auth-basic-user-file"><span>auth_basic_user_file</span></a></h2><ul><li>指定用户名和密码所在文件</li></ul><p><img src="'+t+`" alt="image-20231004093737962"></p><p>指定文件路径，该文件中的用户名和密码的设置，密码需要进行加密，可以采用工具自动生成</p><h2 id="密码生成" tabindex="-1"><a class="header-anchor" href="#密码生成"><span>密码生成</span></a></h2><ul><li>需要使用htpasswd工具生成</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>yum install -y httpd-tools</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>htpasswd -c /usr/local/nginx/conf/htpasswd username //</span></span>
<span class="line"><span>创建一个新文件记录用户名和密码</span></span>
<span class="line"><span>htpasswd -b /usr/local/nginx/conf/htpasswd username</span></span>
<span class="line"><span>password //在指定文件新增一个用户名和密码</span></span>
<span class="line"><span>htpasswd -D /usr/local/nginx/conf/htpasswd username //</span></span>
<span class="line"><span>从指定文件删除一个用户信息</span></span>
<span class="line"><span>htpasswd -v /usr/local/nginx/conf/htpasswd username //</span></span>
<span class="line"><span>验证用户名和密码是否正确</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14)]))}const h=a(d,[["render",r]]),o=JSON.parse('{"path":"/os/pq75khfq/","title":"用户认证模块","lang":"zh-CN","frontmatter":{"title":"用户认证模块","createTime":"2025/04/05 16:47:47","permalink":"/os/pq75khfq/"},"headers":[],"readingTime":{"minutes":1.34,"words":403},"git":{"updatedTime":1743864983000,"contributors":[{"name":"舒永好","username":"舒永好","email":"shuyonghao@guoshenghuaxing.com","commits":1,"avatar":"https://gravatar.com/avatar/4b1c3f37ea707968be73c631a79de33afd360724ce87bf8f9dcacd67d14df92c?d=retro"}]},"filePathRelative":"notes/os/nginx/advance/user_auth.md"}');export{h as comp,o as data};
