import{_ as n,c as a,a as e,o as i}from"./app-C7T5jqfQ.js";const l={};function d(p,s){return i(),a("div",null,s[0]||(s[0]=[e(`<ul><li>FTP(File Transfer Protocol)是TCP/IP网络上两台计算机传送文件的协议</li><li>FTP服务一般运行在20和21两个端口，端口20用于在客户端和服务器之间传输数据流，而端口21用于传输控制流，并且是命令通向ftp服务器的入口</li><li>FTP服务可以开放匿名服务，默认情况下，匿名用户的用户名的&#39;anonymous&#39;</li></ul><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><ul><li>安装服务器</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>yum install -y vsftpd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>安装完成后，会生成一个目录 /etc/vsftpd/ 和 /var/ftp/ 两个重要的目录</p><ul><li><code>[/etc/vsftpd/] </code>目录下有四个文件</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>ftpusers 文件 指定哪些用户不能访问 ftp 服务，这些用户是指 Linux 系统用户还是包括虚拟用户？</span></span>
<span class="line"><span></span></span>
<span class="line"><span>user_list 文件 用户列表，当 vsftpd 里 userlist_deny=NO时，只允许这里的用户访问 ftp 服务，注意此时同时也检测 ftpusers 文件；当 vsftpd 里 userlist_deny=YES（默认） 时，不允许这里的用户 访问 ftp 服务</span></span>
<span class="line"><span></span></span>
<span class="line"><span>vsftpd.conf 文件是 vsftpd 的核心配置文件</span></span>
<span class="line"><span></span></span>
<span class="line"><span>vsftpd_conf_migrate.sh 文件 是 vsftpd 操作的一些变量和设置脚本</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>[/var/ftp/] </code>目录则是默认情况下，<strong>匿名用户的根目录</strong>，也就是说默认情况下，匿名用户上传的文件将会放在这个目录下。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>anonymous_enable=YES 是否允许匿名登录</span></span>
<span class="line"><span></span></span>
<span class="line"><span>local_enable=YES 是否允许本地账号(系统账号)登录</span></span>
<span class="line"><span></span></span>
<span class="line"><span>write_enable=YES 是否运行上传操作，如果要运行上传那么就要开启这个配置</span></span>
<span class="line"><span></span></span>
<span class="line"><span>listen=NO ftp服务的运行模式，=NO时表示xinetd模式；=YES时表示standlone模式。这两个模式的介绍与区别，请看后面的小节。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>userlist_enable=YES 控制 user_list 的功能，在上面有提到其实际意义</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="登录ftp" tabindex="-1"><a class="header-anchor" href="#登录ftp"><span>登录ftp</span></a></h2><p>命令：<code>ftp [-dignv] [ 主机名或IP地址]</code></p><ul><li>如果要匿名登录FTP，则用户名输入anonymous,密码可以为邮箱格式的任意字符串</li><li>退出FTP服务器时，输入bye命令或者！命令</li></ul><h2 id="配置ftp服务器" tabindex="-1"><a class="header-anchor" href="#配置ftp服务器"><span>配置FTP服务器</span></a></h2><h3 id="vsftpd守护进程" tabindex="-1"><a class="header-anchor" href="#vsftpd守护进程"><span>vsftpd守护进程</span></a></h3><ul><li>安装完成后，系统会在<code>/etc/init.d</code>目录下创建一个vsftpd的文件脚本，并会在系统的启动过程中自动运行vsftpd守护进程</li><li>通过<code>pidof</code>命令查看vsftpd守护进程的当前运行状态，获得指定进程的PID</li></ul><h3 id="vsftp-conf文件" tabindex="-1"><a class="header-anchor" href="#vsftp-conf文件"><span>vsftp.conf文件</span></a></h3><ul><li>anonymous_enable:是否允许匿名用户登陆</li><li>local_enable：是否允许系统用户登陆</li><li>write_enable：是否允许使用任何可以修改文件系统的FTP的指令</li><li>anon_upload_enable：是否允许匿名用户上传文件</li><li>anon_mkdir_write_enable：是否允许匿名用户创建新目录</li><li>idle_session_timeout：空闲连接超时时间</li><li>data_connection_timeout：数据传输超时时间</li></ul><h2 id="ftp服务器常用命令" tabindex="-1"><a class="header-anchor" href="#ftp服务器常用命令"><span>FTP服务器常用命令</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>1、cd目录名（进入服务器目录） lcd目录名(进入本机目录)</span></span>
<span class="line"><span>2、dir 查看FTP服务器中的文件及目录  ls命令只可以查看文件</span></span>
<span class="line"><span>3、bin 采用进击缶传输，如果要上传下载，这一步很重要，不先执行这个命令，上传下载会很蟃</span></span>
<span class="line"><span>4、put i001.jpg</span></span>
<span class="line"><span>注意：将当前目录(d:\\qint)中的文件i001.jpg上传到FTP服务器默认目录。可以用“mput *.*”将所有文件上传到FTP服务器上。</span></span>
<span class="line"><span>5、get d123.jpg</span></span>
<span class="line"><span>注意：将FTP服务器默认目录中的文件d123.jpg下载到当前目录下(d:\\qint)。可以用“mget *.*”将所有文件下载到d:\\qint</span></span>
<span class="line"><span>6、delete *.*注意：删除服务器对应目录qint中的所有文件。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,19)]))}const r=n(l,[["render",d]]),c=JSON.parse('{"path":"/os/zxhjm4vi/","title":"ftp服务器","lang":"zh-CN","frontmatter":{"title":"ftp服务器","createTime":"2025/03/23 18:27:22","permalink":"/os/zxhjm4vi/"},"headers":[],"readingTime":{"minutes":2.93,"words":879},"git":{"updatedTime":1743091220000,"contributors":[{"name":"舒永好","username":"舒永好","email":"shuyonghao@guoshenghuaxing.com","commits":1,"avatar":"https://gravatar.com/avatar/4b1c3f37ea707968be73c631a79de33afd360724ce87bf8f9dcacd67d14df92c?d=retro"}]},"filePathRelative":"notes/os/linux/ftp_server.md"}');export{r as comp,c as data};
